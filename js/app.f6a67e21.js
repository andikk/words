(function(t){function e(e){for(var n,a,i=e[0],c=e[1],d=e[2],u=0,h=[];u<i.length;u++)a=i[u],r[a]&&h.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),r=s.n(n);r.a},"1a49":function(t,e,s){"use strict";var n=s("e543"),r=s.n(n);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:{overlay:t.showModal}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[t._v("Загружаю слово...")]),s("app-modal",{staticClass:"modal",class:{active:t.showModal},attrs:{gameStarted:t.gameStarted,showButtons:t.showButtons,message:t.message},on:{gameStarted:t.startGame,continueGame:t.continueGame,showStatistics:t.showStatistics}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showStat,expression:"showStat"}],staticClass:"stat"},[s("table",{staticClass:"stat__table",attrs:{cellpadding:"10"}},[s("tr",{staticClass:"stat__header"},[s("td",[s("a",{on:{click:function(e){t.sortParam="num"}}},[t._v("Номер")])]),s("td",[s("a",{on:{click:function(e){t.sortParam="word"}}},[t._v("Слово")])]),s("td",[s("a",{on:{click:function(e){t.sortParam="time"}}},[t._v("Время")])])]),t._l(t.sortedList,function(e,n){return s("tr",[s("td",[t._v(t._s(e.num))]),s("td",[t._v(t._s(e.word))]),s("td",[t._v(t._s(e.time))])])})],2)])]),s("app-displayed-word",{attrs:{displayedWord:t.displayedWord},on:{letterClicked:t.pasteLetter}}),s("app-typed-word",{attrs:{typedWord:t.typedWord},on:{letterClicked:t.deleteLetter,clearClicked:t.clear}})],1)},o=[],a=(s("55dd"),s("7f7f"),s("6b54"),s("28a5"),s("bc3a")),i=s.n(a),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v('Игра "Угадай слово"')]),s("p",{staticClass:"message"},[t._v(t._s(t.message))]),s("button",{directives:[{name:"show",rawName:"v-show",value:!t.gameStarted,expression:"!gameStarted"}],on:{click:t.startGame}},[t._v("Начать игру")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showButtons,expression:"showButtons"}],staticClass:"btn-container"},[s("button",{on:{click:t.continueGame}},[t._v("Конечно!")]),s("button",{on:{click:t.showStatistics}},[t._v("Я уже устал")])]),s("div",[t._t("default")],2)])},d=[],l={methods:{startGame:function(){this.$emit("gameStarted")},continueGame:function(){this.$emit("continueGame")},showStatistics:function(){this.$emit("showStatistics")}},props:["gameStarted","message","showButtons"]},u=l,h=(s("6100"),s("2877")),p=Object(h["a"])(u,c,d,!1,null,"4a82a4a4",null),f=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"disp-word-container"},[s("h2",{staticClass:"title"},[t._v("Нажимай на буквы, чтобы составить из них слово")]),s("ul",{staticClass:"word"},t._l(t.displayedWord,function(e,n){return s("li",{staticClass:"letter",on:{click:function(e){return t.pasteLetter(n)}}},[t._v(t._s(e))])}),0)])},v=[],w={methods:{pasteLetter:function(t){this.$emit("letterClicked",t)}},props:["displayedWord"]},g=w,_=(s("d45e"),Object(h["a"])(g,m,v,!1,null,"35a8e2bb",null)),y=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"typed-word-container"},[s("h3",[t._v("Если ты ошибся, то нажми на букву, чтобы удалить её")]),s("ul",{staticClass:"word"},t._l(t.typedWord,function(e,n){return s("li",{staticClass:"letter",on:{click:function(e){return t.deleteLetter(n)}}},[t._v(t._s(e))])}),0),s("button",{on:{click:t.clear}},[t._v("Очистить")])])},S=[],C={methods:{deleteLetter:function(t){this.$emit("letterClicked",t)},clear:function(){this.$emit("clearClicked")}},props:["typedWord"]},W=C,k=(s("1a49"),Object(h["a"])(W,b,S,!1,null,"024f759b",null)),M=k.exports,j={data:function(){return{word:"",typedWord:"",displayedWord:"",numbers:[],words:[],counter:0,timer:1,log:[],gameStarted:!1,showModal:!0,message:"Для начала игры нажми кнопку",showButtons:!1,showStat:!1,sortParam:"",tryNum:0,loading:!0}},methods:{clear:function(){this.typedWord=""},showStatistics:function(){this.showButtons=!1,this.showStat=!0,this.message="Для начала игры нажми кнопку",this.gameStarted=!1},continueGame:function(){this.showStat=!1,this.showModal=!1,this.selectWord()},pasteLetter:function(t){this.typedWord=this.typedWord+this.displayedWord[t],this.check()},deleteLetter:function(t){var e=this.typedWord.split("");e.splice(t,1),this.typedWord=e.join(""),this.check()},check:function(){if(this.typedWord==this.word){this.typedWord="",this.message="Вы выиграли! Повторить?",this.showButtons=!0,this.showStat=!1,this.showModal=!0,this.tryNum++;var t={num:this.tryNum,time:this.timer,word:this.word};this.log.push(t),this.timer=0}},selectWord:function(){var t=this,e=function(t){var e="";t=t.split("");while(t.length>0)e+=t.splice(t.length*Math.random()<<0,1);return e};if(this.counter<this.numbers.length){var s=this.numbers[this.counter];i.a.get("https://apidir.pfdo.ru/v1/directory-program-activities/".concat(s)).then(function(s){if("Полный успех"==s.data.result_message){if(0==t.words.some(function(t){return t==s.data.data.name.toString()})){t.words.push(s.data.data.name.toUpperCase());var n=s.data.data.name.split(" ").join("_");t.word=n.toUpperCase(),t.displayedWord=e(n.toUpperCase()),console.log(t.word),setInterval(function(){return t.timer++},1e3),t.loading=!0}t.counter++}else t.counter++,t.selectWord()}).catch(function(t){console.log(t)}).finally(function(){return t.loading=!1})}else this.message="Вы отгадали все слова. Начните игру снова.",this.showModal=!0,this.showButtons=!1,this.gameStarted=!1},startGame:function(){this.numbers.length=0,this.words.length=0,this.log.length=0,this.tryNum=0,this.gameStarted=!0,this.showModal=!1;for(var t=function(t){var e,s,n=t.length;while(0!==n)s=Math.floor(Math.random()*n),n-=1,e=t[n],t[n]=t[s],t[s]=e;return t},e=2;e<180;e++)this.numbers.push(e);t(this.numbers),this.selectWord()}},computed:{sortedList:function(){var t=function(t,e){return t.word.toLowerCase()>e.word.toLowerCase()?1:-1},e=function(t,e){return t.time>e.time?1:-1},s=function(t,e){return t.num>e.num?1:-1};switch(this.sortParam){case"num":return this.log.sort(s);case"word":return this.log.sort(t);case"time":return this.log.sort(e);default:return this.log}}},components:{appModal:f,appDisplayedWord:y,appTypedWord:M}},x=j,O=(s("034f"),Object(h["a"])(x,r,o,!1,null,null,null)),L=O.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(L)}}).$mount("#app")},6100:function(t,e,s){"use strict";var n=s("8fe5"),r=s.n(n);r.a},"64a9":function(t,e,s){},"8fe5":function(t,e,s){},d45e:function(t,e,s){"use strict";var n=s("f4d2"),r=s.n(n);r.a},e543:function(t,e,s){},f4d2:function(t,e,s){}});
//# sourceMappingURL=app.f6a67e21.js.map